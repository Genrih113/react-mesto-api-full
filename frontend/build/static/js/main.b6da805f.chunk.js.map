{"version":3,"sources":["images/mesto_logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/formValidator.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/SignFormBlock.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/signApi.js","images/sign_success.svg","images/sign_error.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","mestoLogo","alt","loggedIn","userEmail","headerLink","to","onClick","logOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","like","link","name","onCardClick","type","onCardLike","length","onCardDelete","Main","useEffect","chooseHeaderLink","avatar","onEditAvatar","about","onEditProfile","aria-label","onAddPlace","cards","map","i","Footer","ImagePopup","isOpen","e","target","currentTarget","onClose","api","baseUrl","token","this","_baseUrl","JWT","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","userInfoObj","method","body","JSON","stringify","inputsInfoObject","cardId","doILikedCard","imageId","url","window","location","protocol","process","formValidator","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorSelector","_formSelector","_inputSelector","_submitButtonSelector","_inactiveButtonClass","_inputErrorClass","_errorSelector","formNameSelector","_validatedFormElement","document","querySelector","_submitButton","_inputElements","Array","from","querySelectorAll","input","classList","add","id","textContent","validationMessage","remove","validity","valid","_hideInputError","_showInputError","_hasInvalidInput","disabled","forEach","addEventListener","evt","preventDefault","_toggleButtonState","_isValid","PopupWithForm","selectForm","validateForm","clearPopupFromErrors","onSubmit","noValidate","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","onUpdateUser","onChange","value","minLength","maxLength","required","placeholder","EditAvatarPopup","avatarLinkRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","ConfirmPopup","onConfirm","SignFormBlock","handleSubmit","formName","formTitle","handleChangeEmail","email","handleChangePassword","password","isSignUp","Register","setEmail","setPassword","signUp","Login","signIn","ProtectedRoute","Component","component","signApi","InfoTooltip","history","useHistory","isSignSuccessful","successImage","isSignFailed","errorImage","push","resetSignStatus","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","closeAllPopups","setSelectedCard","setCurrentUser","selectedCard","setCards","setHeaderLink","string","setLoggedIn","logIn","Boolean","localStorage","getItem","checkToken","result","catch","err","console","log","setIsSignSuccessful","setIsSignFailed","isTriedToSign","setIsTriedToSign","switchIsSignFailedOnTrue","switchIsTriedToSignOnTrue","getUserInfo","getInitialCards","Provider","removeItem","path","signup","signin","setItem","likeToggleCard","newCard","newCards","c","obj","editUserInfo","finally","newPlaceObj","addNewCard","changeAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"qSAAe,MAA0B,uCCsB1BA,MAnBf,SAAgBC,GACd,OACE,yBAAQC,UAAU,SAAlB,UACE,qBAAKA,UAAU,oBAAf,SACE,qBAAKA,UAAU,YAAYC,IAAKC,EAAWC,IAAI,0EAEjD,sBAAKH,UAAU,0BAAf,UACGD,EAAMK,UAAY,sBAAMJ,UAAU,qBAAhB,SAAsCD,EAAMM,YACxC,mCAArBN,EAAMO,YAA2B,cAAC,IAAD,CAAMN,UAAU,kBAAkBO,GAAG,UAArC,4CACZ,iHAArBR,EAAMO,YAAwC,cAAC,IAAD,CAAMN,UAAU,kBAAkBO,GAAG,UAArC,0HACzB,mCAArBR,EAAMO,YACN,cAAC,IAAD,CAAMN,UAAU,kBAAkBO,GAAG,UAAUC,QAAS,kBAAOT,EAAMU,UAArE,mDCVKC,EAFYC,IAAMC,gBCyClBC,MAtCf,SAAcd,GAEZ,IAAMe,EAAcH,IAAMI,WAAWL,GAE/BM,EAAQjB,EAAMkB,KAAKC,QAAUJ,EAAYK,IAEzCC,EAAUrB,EAAMkB,KAAKI,MAAMC,MAAK,SAAAC,GAAI,OAAIA,IAAST,EAAYK,OAEnE,OACE,qBAAInB,UAAU,QAAd,UACE,qBAAKA,UAAU,uBAAf,SACE,qBACEA,UAAU,aACVC,IAAKF,EAAMkB,KAAKO,KAChBrB,IAAKJ,EAAMkB,KAAKQ,KAChBjB,QAAS,kBAAMT,EAAM2B,YAAY3B,EAAMkB,WAG3C,sBAAKjB,UAAU,qBAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BD,EAAMkB,KAAKQ,OACzC,sBAAKzB,UAAU,wBAAf,UACE,wBACEA,UAAS,6BAAwBoB,GAAW,4BAC5CO,KAAK,SACLnB,QAAS,kBAAMT,EAAM6B,WAAW7B,EAAMkB,SAExC,mBAAGjB,UAAU,sBAAb,SAAoCD,EAAMkB,KAAKI,MAAMQ,eAGzD,wBACE7B,UAAS,gCAA2BgB,GAAS,kCAC7CW,KAAK,SACLnB,QAAS,kBAAMT,EAAM+B,aAAa/B,EAAMkB,aCejCc,MAhDf,SAAchC,GAEZ,IAAMe,EAAcH,IAAMI,WAAWL,GAMrC,OAJAC,IAAMqB,WAAU,WACdjC,EAAMkC,iBAAiB,oCACtB,IAID,uBAAMjC,UAAU,OAAhB,UAEE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,SAAf,UACE,sBAAKA,UAAU,2BAAf,UACE,qBAAKA,UAAU,+BAAf,SACA,qBAAKA,UAAU,iBAAiBC,IAAKa,EAAYoB,OAAQ/B,IAAI,2CAE7D,qBAAKK,QAAST,EAAMoC,aAAcnC,UAAU,6BAE9C,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,oBAAIA,UAAU,eAAd,SAA8Bc,EAAYW,OAC1C,mBAAGzB,UAAU,kBAAb,SAAgCc,EAAYsB,WAE9C,wBAAQ5B,QAAST,EAAMsC,cACrBrC,UAAU,sBAAsB2B,KAAK,SAASW,aAAW,yFAI/D,wBAAQ9B,QAAST,EAAMwC,WAAYvC,UAAU,aAAa2B,KAAK,SAASW,aAAW,wDAGrF,kCACI,oBAAItC,UAAU,SAAd,SACGD,EAAMyC,MAAMC,KAAI,SAACxB,EAAMyB,GAAP,OAChB,cAAC,EAAD,CAAqBzB,KAAMA,EAC1BS,YAAa3B,EAAM2B,YACnBE,WAAY7B,EAAM6B,WAClBE,aAAc/B,EAAM+B,cAHVb,EAAKE,gBChCdwB,MARf,WACE,OACE,wBAAQ3C,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,uCCeS4C,MAlBf,SAAoB7C,GAClB,OACE,qBAAKC,UAAS,iCAA4BD,EAAM8C,QAAU,gBACxDrC,QAAS,SAACsC,GACJA,EAAEC,SAAWD,EAAEE,eACnBjD,EAAMkD,WAHV,SAKE,yBAAQjD,UAAU,gBAAlB,UACE,qBAAKA,UAAU,qBAAqBC,IAAKF,EAAMkB,KAAKO,KAAMrB,IAAKJ,EAAMkB,KAAKQ,OAC1E,4BAAYzB,UAAU,uBAAtB,SAA8CD,EAAMkB,KAAKQ,OACzD,wBAAQzB,UAAU,uCAAuC2B,KAAK,SAASW,aAAW,6CAChF9B,QAAST,EAAMkD,gB,gBCqJVC,EARH,I,WAvJV,cAA+B,IAAlBC,EAAiB,EAAjBA,QAAiB,EAARC,MAAQ,oBAC5BC,KAAKC,SAAWH,E,wDAINI,GACV,OAAOC,MAAMH,KAAKC,SAAW,YAAa,CACxCG,QAAS,CAEPC,cAAc,UAAD,OAAYH,MAG5BI,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,sCAK3BV,GACd,OAAOC,MAAMH,KAAKC,SAAW,SAAU,CACrCG,QAAS,CAEPC,cAAc,UAAD,OAAYH,MAG5BI,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,mCAK9BV,EAAKW,GAChB,OAAOV,MAAMH,KAAKC,SAAW,YAAa,CACxCa,OAAQ,QACRV,QAAS,CACPC,cAAc,UAAD,OAAYH,GACzB,eAAgB,oBAElBa,KAAMC,KAAKC,UAAU,CACnB7C,KAAMyC,EAAYzC,KAClBW,MAAO8B,EAAY9B,UAGtBuB,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,iCAKhCV,EAAKgB,GACd,OAAOf,MAAMH,KAAKC,SAAW,SAAU,CACrCa,OAAQ,OACRV,QAAS,CACPC,cAAc,UAAD,OAAYH,GACzB,eAAgB,oBAElBa,KAAMC,KAAKC,UAAU,CACnB7C,KAAM8C,EAAiB9C,KACvBD,KAAM+C,EAAiB/C,SAG1BmC,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,iCAKhCV,EAAKiB,GACd,OAAOhB,MAAMH,KAAKC,SAAW,UAAYkB,EAAQ,CAC/CL,OAAQ,SACRV,QAAS,CACPC,cAAc,UAAD,OAAYH,GACzB,eAAgB,sBAGnBI,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,qCAK5BV,EAAKkB,EAAcC,GAChC,OAAKD,EAgBIjB,MAAMH,KAAKC,SAAW,UAAWoB,EAAU,UAAW,CAC3DP,OAAQ,SACRV,QAAS,CACPC,cAAc,UAAD,OAAYH,GACzB,eAAgB,sBAGnBI,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,YA1BlCT,MAAMH,KAAKC,SAAW,UAAWoB,EAAU,UAAW,CAC3DP,OAAQ,MACRV,QAAS,CACPC,cAAc,UAAD,OAAYH,GACzB,eAAgB,sBAGnBI,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,mCAqBhCV,EAAKoB,GAChB,OAAOnB,MAAMH,KAAKC,SAAW,mBAAoB,CAC/Ca,OAAQ,QACRV,QAAS,CACPC,cAAc,UAAD,OAAYH,GACzB,eAAgB,oBAElBa,KAAMC,KAAKC,UAAU,CACnBpC,OAAQyC,MAGXhB,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,gB,KAMjC,CAAQ,CAClBd,QAAQ,GAAD,OAAKyB,OAAOC,SAASC,UAArB,OAAgCC,8CC5D1BC,EATO,I,WAnFpB,cAOM,IANJC,EAMG,EANHA,aACAC,EAKG,EALHA,cACAC,EAIG,EAJHA,qBACAC,EAGG,EAHHA,oBACAC,EAEG,EAFHA,gBACAC,EACG,EADHA,cACG,oBACDjC,KAAKkC,cAAgBN,EACrB5B,KAAKmC,eAAiBN,EACtB7B,KAAKoC,sBAAwBN,EAC7B9B,KAAKqC,qBAAuBN,EAC5B/B,KAAKsC,iBAAmBN,EACxBhC,KAAKuC,eAAiBN,E,uDAGfO,GACTxC,KAAKyC,sBAAwBC,SAASC,cAAcH,GACpDxC,KAAK4C,cAAgB5C,KAAKyC,sBAAsBE,cAAc3C,KAAKoC,uBACnEpC,KAAK6C,eAAiBC,MAAMC,KAAK/C,KAAKyC,sBAAsBO,iBAAiBhD,KAAKmC,mB,sCAGpEc,GACdA,EAAMC,UAAUC,IAAInD,KAAKsC,kBACJtC,KAAKyC,sBAAsBE,cAA3B,WAA6CM,EAAMG,GAAnD,WACRC,YAAcJ,EAAMK,oB,sCAGnBL,GACdA,EAAMC,UAAUK,OAAOvD,KAAKsC,kBACPtC,KAAKyC,sBAAsBE,cAA3B,WAA6CM,EAAMG,GAAnD,WACRC,YAAc,K,+BAGpBJ,GACFA,EAAMO,SAASC,MAGlBzD,KAAK0D,gBAAgBT,GAFrBjD,KAAK2D,gBAAgBV,K,yCAOvB,OAAOjD,KAAK6C,eAAe5E,MAAK,SAACgF,GAC/B,OAAQA,EAAMO,SAASC,W,2CAKrBzD,KAAK4D,oBACP5D,KAAK4C,cAAciB,UAAW,EAC9B7D,KAAK4C,cAAcM,UAAUC,IAAInD,KAAKqC,wBAEtCrC,KAAK4C,cAAciB,UAAW,EAC9B7D,KAAK4C,cAAcM,UAAUK,OAAOvD,KAAKqC,yB,6CAIrB,IAAD,OACc,IAA/BrC,KAAK6C,eAAerE,SACxBwB,KAAK6C,eAAeiB,SAAQ,SAACb,GAC3B,EAAKS,gBAAgBT,MACvBjD,KAAK4C,cAAciB,UAAW,EAC9B7D,KAAK4C,cAAcM,UAAUC,IAAInD,KAAKqC,yB,qCAGxB,IAAD,OACsB,IAA/BrC,KAAK6C,eAAerE,SACxBwB,KAAKyC,sBAAsBsB,iBAAiB,UAAU,SAACC,GACrDA,EAAIC,oBAGNjE,KAAKkE,qBAELlE,KAAK6C,eAAeiB,SAAQ,SAACb,GAC3BA,EAAMc,iBAAiB,SAAS,WAC9B,EAAKI,SAASlB,GACd,EAAKiB,gC,KAMS,CAAkB,CACtCtC,aAAc,oBACdC,cAAe,gBACfC,qBAAsB,iBACtBC,oBAAqB,yBACrBC,gBAAiB,2BACjBC,cAAe,WCjDFmC,MAtCf,SAAuB1H,GAYrB,OARAY,IAAMqB,WAAU,WACVjC,EAAM8C,SACRmC,EAAc0C,WAAd,4BAA8C3H,EAAM0B,OACpDuD,EAAc2C,eACd3C,EAAc4C,0BAEf,CAAC7H,EAAM8C,OAAQ9C,EAAM0B,OAGtB,qBAAKzB,UAAS,gBAAWD,EAAM8C,QAAU,eAA3B,kBAAmD9C,EAAM0B,MACrEjB,QAAS,SAACsC,GACJA,EAAEC,SAAWD,EAAEE,eACnBjD,EAAMkD,WAHV,SAKE,uBAAM4E,SAAU,SAAC/E,GAAD,OAAO/C,EAAM8H,SAAS/E,IACpC9C,UAAS,4CAAuCD,EAAM0B,MAAQA,KAAI,UAAK1B,EAAM0B,KAAX,aAA4BqG,YAAU,EAD1G,UAEE,oBAAI9H,UAAU,eAAd,SAA8BD,EAAMgI,QACpC,2BAAU/H,UAAU,iBAApB,UAEGD,EAAMiI,SAEP,wBAAQhI,UAAU,gBAAgB2B,KAAK,SAAvC,SAAiD5B,EAAMkI,gBAEzD,wBACEzH,QAAS,WACPT,EAAMkD,WAERjD,UAAS,oCAA+BD,EAAM0B,MAAQE,KAAK,SAASW,aAAW,qDC+B1E4F,MA5Df,SAA0BnI,GAAO,MAEPY,IAAMwH,SAAS,IAFR,mBAExB1G,EAFwB,KAElB2G,EAFkB,OAGOzH,IAAMwH,SAAS,IAHtB,mBAGxBE,EAHwB,KAGXC,EAHW,KAczBxH,EAAcH,IAAMI,WAAWL,GAkBrC,OAfAC,IAAMqB,WAAU,WACdoG,EAAQtH,EAAYW,MACpB6G,EAAexH,EAAYsB,SAC1B,CAACtB,EAAaf,EAAM8C,SAarB,eAAC,EAAD,CACEpB,KAAK,UACLsG,MAAM,4HACNE,WAAW,yDACXpF,OAAQ9C,EAAM8C,OACdI,QAASlD,EAAMkD,QACf4E,SAfJ,SAAsB/E,GACpBA,EAAEwE,iBACFvH,EAAMwI,aAAa,CACjB9G,KAAMA,EACNW,MAAOiG,KAKT,UAQE,uBACEG,SArCN,SAA0B1F,GACxBsF,EAAQtF,EAAEC,OAAO0F,QAqCbA,MAAOhH,EACPgF,GAAG,aAAazG,UAAU,mCAAmCyB,KAAK,iBAClEE,KAAK,OAAO+G,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAACC,YAAY,uBAEhE,sBAAMpC,GAAG,mBAAmBzG,UAAU,UACtC,uBACEwI,SAxCN,SAAiC1F,GAC/BwF,EAAexF,EAAEC,OAAO0F,QAwCpBA,MAAOJ,EACP5B,GAAG,gBAAgBzG,UAAU,sCAAsCyB,KAAK,oBACxEE,KAAK,OAAO+G,UAAU,IAAIC,UAAU,MAAMC,UAAQ,EAACC,YAAY,oCAEjE,sBAAMpC,GAAG,sBAAsBzG,UAAU,cCrBhC8I,MAnCf,SAA0B/I,GAExB,IAAMgJ,EAAgBpI,IAAMqI,SAY5B,OATIjJ,EAAM8C,SAASkG,EAAcE,QAAQR,MAAQ,IAU/C,eAAC,EAAD,CACEhH,KAAK,SACLsG,MAAM,wFACNE,WAAW,yDACXpF,OAAQ9C,EAAM8C,OACdI,QAASlD,EAAMkD,QACf4E,SAbJ,SAAsB/E,GACpBA,EAAEwE,iBACFvH,EAAMmJ,eAAeH,EAAcE,QAAQR,OAC3CM,EAAcE,QAAQR,MAAQ,IAI9B,UAQE,uBAEEU,IAAKJ,EACLtC,GAAG,aAAazG,UAAU,kCAAkCyB,KAAK,uBACjEE,KAAK,MAAMiH,UAAQ,EAACC,YAAY,2FAElC,sBAAMpC,GAAG,mBAAmBzG,UAAU,cC4B7BoJ,MAzDf,SAAuBrJ,GAAO,MAEMY,IAAMwH,SAAS,IAFrB,mBAErBkB,EAFqB,KAEVC,EAFU,OAGM3I,IAAMwH,SAAS,IAHrB,mBAGrBoB,EAHqB,KAGVC,EAHU,KA8B5B,OAxBA7I,IAAMqB,WAAU,WACVjC,EAAM8C,SACRyG,EAAa,IACbE,EAAa,OACX,CAACzJ,EAAM8C,SAqBX,eAAC,EAAD,CACEpB,KAAK,QACLsG,MAAM,gEACNE,WAAW,6CACXpF,OAAQ9C,EAAM8C,OACdI,QAASlD,EAAMkD,QACf4E,SAhBJ,SAAsB/E,GACpBA,EAAEwE,iBACFvH,EAAMwC,WAAW,CACfd,KAAM4H,EACN7H,KAAM+H,KAMR,UASE,uBACEf,SA7BN,SAAyB1F,GACvBwG,EAAaxG,EAAEC,OAAO0F,QA6BlBhC,GAAG,YAAYzG,UAAU,iCAAiCyB,KAAK,kBAC/DE,KAAK,OAAO+G,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAACC,YAAY,mDAAWJ,MAAOY,IAElF,sBAAM5C,GAAG,kBAAkBzG,UAAU,UACrC,uBACEwI,SA/BN,SAAyB1F,GACvB0G,EAAa1G,EAAEC,OAAO0F,QA+BlBhC,GAAG,YAAYzG,UAAU,iCAAiCyB,KAAK,iBAC/DE,KAAK,MAAMiH,UAAQ,EAACC,YAAY,qGAAqBJ,MAAOc,IAE9D,sBAAM9C,GAAG,kBAAkBzG,UAAU,cCjC5ByJ,MAnBf,SAAsB1J,GAOpB,OACE,cAAC,EAAD,CACE0B,KAAK,UACLsG,MAAM,2DACNE,WAAW,eACXpF,OAAQ9C,EAAM8C,OACdI,QAASlD,EAAMkD,QACf4E,SAZJ,SAAsB/E,GACpBA,EAAEwE,iBACFvH,EAAM2J,gB,MC8BKC,MAhCf,SAAuB5J,GAErB,OACE,qBAAKC,UAAU,sBAAf,SACE,uBACE6H,SAAU9H,EAAM6J,aAChB5J,UAAU,sCAAsCyB,KAAI,UAAK1B,EAAM8J,UAFjE,UAGE,oBAAI7J,UAAU,mBAAd,SAAkCD,EAAM+J,YACxC,uBACEtB,SAAUzI,EAAMgK,kBAChBtB,MAAO1I,EAAMiK,MACbvD,GAAG,QAAQzG,UAAU,mBAAmByB,KAAK,QAC7CE,KAAK,QAAQ+G,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAACC,YAAY,UAEjE,uBACEL,SAAUzI,EAAMkK,qBAChBxB,MAAO1I,EAAMmK,SACbzD,GAAG,WAAWzG,UAAU,mBAAmByB,KAAK,WAChDE,KAAK,WAAW+G,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAACC,YAAY,yCAEpE,wBAAQ7I,UAAU,oBAAoB2B,KAAK,SAA3C,mBAAwD5B,EAAMkI,cAC7DlI,EAAMoK,UACP,sBAAKnK,UAAU,0BAAf,UACE,yJACA,cAAC,IAAD,CAAMA,UAAU,kBAAkBO,GAAG,UAArC,qDCcK6J,MAtCf,SAAkBrK,GAAQ,IAAD,EAEGY,IAAMwH,SAAS,IAFlB,mBAEhB6B,EAFgB,KAETK,EAFS,OAGS1J,IAAMwH,SAAS,IAHxB,mBAGhB+B,EAHgB,KAGNI,EAHM,KAuBvB,OALA3J,IAAMqB,WAAU,WACdjC,EAAMkC,iBAAiB,oCACtB,IAID,cAAC,EAAD,CACE4H,SAAW,mBACXC,UAAY,qEACZK,UAAY,EACZlC,WAAa,+GACb8B,kBAxBJ,SAA2BjH,GACzBuH,EAASvH,EAAEC,OAAO0F,QAwBhBwB,qBArBJ,SAA8BnH,GAC5BwH,EAAYxH,EAAEC,OAAO0F,QAqBnBmB,aAlBJ,SAAsB9G,GACpBA,EAAEwE,iBACFvH,EAAMwK,OAAOL,EAAUF,IAiBrBA,MAASA,EACTE,SAAYA,KCIHM,MArCf,SAAezK,GAAQ,IAAD,EAEMY,IAAMwH,SAAS,IAFrB,mBAEb6B,EAFa,KAENK,EAFM,OAGY1J,IAAMwH,SAAS,IAH3B,mBAGb+B,EAHa,KAGHI,EAHG,KAsBpB,OAJA3J,IAAMqB,WAAU,WACdjC,EAAMkC,iBAAiB,kHACtB,IAGD,cAAC,EAAD,CACE4H,SAAW,YACXC,UAAY,2BACZK,UAAY,EACZlC,WAAa,iCACb8B,kBAvBJ,SAA2BjH,GACzBuH,EAASvH,EAAEC,OAAO0F,QAuBhBwB,qBApBJ,SAA8BnH,GAC5BwH,EAAYxH,EAAEC,OAAO0F,QAoBnBmB,aAjBJ,SAAsB9G,GACpBA,EAAEwE,iBACFvH,EAAM0K,OAAOP,EAAUF,IAgBrBA,MAASA,EACTE,SAAYA,K,gBCpBHQ,MAVf,YAA8D,IAAzBC,EAAwB,EAAnCC,UAAyB7K,EAAU,6BAC3D,OACE,cAAC,IAAD,UAEI,kBAAMA,EAAMK,SAAW,cAACuK,EAAD,eAAe5K,IAAY,cAAC,IAAD,CAAUQ,GAAG,gBC+DxDsK,EANC,I,WAlEd,cAAwB,IAAX1H,EAAU,EAAVA,QAAU,oBACrBE,KAAKC,SAAWH,E,mDAIX+G,EAAUF,GACf,OAAOxG,MAAMH,KAAKC,SAAW,UAAW,CACtCa,OAAQ,OACRV,QAAS,CACP,eAAgB,oBAElBW,KAAMC,KAAKC,UAAU,CACnB,SAAY4F,EACZ,MAASF,MAGZrG,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,6BAMpCiG,EAAUF,GACf,OAAOxG,MAAMH,KAAKC,SAAW,UAAW,CACtCa,OAAQ,OACRV,QAAS,CACP,eAAgB,oBAElBW,KAAMC,KAAKC,UAAU,CACnB,SAAY4F,EACZ,MAASF,MAGZrG,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,iCAKhCV,GACT,OAAOC,MAAMH,KAAKC,SAAW,YAAa,CACxCa,OAAQ,MACRV,QAAS,CACP,OAAU,mBACV,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BF,MAG9BI,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,gB,KAO7B,CAAY,CAC1Bd,QAAQ,GAAD,OAAKyB,OAAOC,SAASC,UAArB,OAAgCC,8CCpE1B,G,MAAA,IAA0B,0CCA1B,MAA0B,uCCoD1B+F,MA9Cf,SAAqB/K,GAEnB,IAAMgL,EAAUC,cAShB,OACE,qBAAKhL,UAAU,eAAf,SACE,sBAAKA,UAAU,qBAAf,UAEID,EAAMkL,kBACN,qBAAKjL,UAAU,sBAAsBC,IAAKiL,EAAc/K,IAAI,wHAI5DJ,EAAMoL,cACN,qBAAKnL,UAAU,sBAAsBC,IAAKmL,EAAYjL,IAAI,qIAI1DJ,EAAMkL,kBACN,mBAAGjL,UAAU,wBAAb,mLAKAD,EAAMoL,cACN,mBAAGnL,UAAU,wBAAb,iNAIF,wBACEQ,QAjCR,WACMT,EAAMkL,kBACRF,EAAQM,KAAK,WAEftL,EAAMuL,mBA8BAtL,UAAU,eAAe2B,KAAK,SAC9BW,aAAW,qDCmUNiJ,MA1Vf,WAAe,MAE+C5K,IAAMwH,UAAS,GAF9D,mBAENqD,EAFM,KAEkBC,EAFlB,OAGyC9K,IAAMwH,UAAS,GAHxD,mBAGNuD,EAHM,KAGeC,EAHf,OAI6ChL,IAAMwH,UAAS,GAJ5D,mBAINyD,EAJM,KAIiBC,EAJjB,OAKmClL,IAAMwH,UAAS,GALlD,mBAKN2D,EALM,KAKYC,EALZ,OAMuCpL,IAAMwH,UAAS,GANtD,mBAMN6D,EANM,KAMcC,EANd,KA4Bb,SAASC,IACPL,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBI,GAAoB,GACpBE,GAAsB,GACtBE,EAAgB,IAlCL,MAuCyBxL,IAAMwH,SAAS,CACnD/F,MAAO,GACPF,OAAQ,GACR8H,MAAO,GACPvI,KAAM,GACNN,IAAK,KA5CM,mBAuCNL,EAvCM,KAuCOsL,EAvCP,OAgF2BzL,IAAMwH,SAAS,IAhF1C,mBAgFNkE,EAhFM,KAgFQF,EAhFR,OA8FaxL,IAAMwH,SAAS,IA9F5B,mBA8FN3F,EA9FM,KA8FC8J,EA9FD,QA0IuBnE,mBAAS,IA1IhC,qBA0IN7H,GA1IM,MA0IMiM,GA1IN,MA2Ib,SAAStK,GAAiBuK,GACxBD,GAAcC,GA5IH,OA+ImB7L,IAAMwH,UAAS,GA/IlC,qBA+IN/H,GA/IM,MA+IIqM,GA/IJ,MAgJb,SAASC,KACPD,IAAY,GAad,IAAM1B,GAAUC,cAEhBrK,IAAMqB,WAAU,WACV2K,QAAQC,aAAaC,QAAQ,WAC/BhC,EAAQiC,WAAWF,aAAaC,QAAQ,UACvClJ,MAAK,SAACoJ,GACDA,EAAO/C,QAEToC,EAAeW,GACfL,KACA3B,GAAQM,KAAK,SAGhB2B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAE3B,CAAClC,KA7KS,OAgMmCpK,IAAMwH,UAAS,GAhMlD,qBAgMN8C,GAhMM,MAgMYmC,GAhMZ,SAiM2BzM,IAAMwH,UAAS,GAjM1C,qBAiMNgD,GAjMM,MAiMQkC,GAjMR,SAkM6B1M,IAAMwH,UAAS,GAlM5C,qBAkMNmF,GAlMM,MAkMSC,GAlMT,MAwMb,SAASC,KACPH,IAAgB,GAGlB,SAASI,KACPF,IAAiB,GA+CnB,OAxBA5M,IAAMqB,WAAU,WACT5B,IAGL8C,EAAIwK,YAAYd,aAAaC,QAAQ,UACpClJ,MAAK,SAACoJ,GACLX,EAAeW,MAEhBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QACzB,CAAC7M,KAGJO,IAAMqB,WAAU,WACT5B,IAGL8C,EAAIyK,gBAAgBf,aAAaC,QAAQ,UACxClJ,MAAK,SAACoJ,GACLT,EAASS,MAEVC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QACzB,CAAC7M,KAIF,cAAC,EAAmBwN,SAApB,CAA6BnF,MAAS3H,EAAtC,SACE,qBAAKd,UAAU,OAAf,SACE,sBAAKA,UAAU,kBAAf,UAEE,cAAC,EAAD,CACEM,WAAcA,GACdD,UAAaS,EAAYkJ,MACzB5J,SAAYA,GACZK,OAlHV,WACEgM,IAAY,GACZG,aAAaiB,WAAW,SArGxBzB,EAAe,CACbhK,MAAO,GACPF,OAAQ,GACR8H,MAAO,GACPvI,KAAM,GACNN,IAAK,QAmND,eAAC,IAAD,WAEE,cAAC,IAAD,CAAO2M,KAAK,UAAZ,SACE,cAAC,EAAD,CACE7L,iBAAoBA,GACpBsI,OAvDd,SAAgBL,EAAUF,GACxBa,EAAQkD,OAAO7D,EAAUF,GACtBrG,MAAK,SAACC,GAnBTwJ,IAAoB,GAqBhBK,QAEDT,OAAM,SAACC,GACNO,KACAC,aAmDI,cAAC,IAAD,CAAOK,KAAK,UAAZ,SACE,cAAC,EAAD,CACE7L,iBAAoBA,GACpBwI,OArGd,SAAgBP,EAAUF,GACxBa,EAAQmD,OAAO9D,EAAUF,GACxBrG,MAAK,SAACC,GAELgJ,aAAaqB,QAAQ,QAAUrK,EAAIR,OAGnCsJ,KACA3B,GAAQM,KAAK,QAEd2B,OAAM,SAACC,GACNO,KACAC,aA6FM,cAAC,EAAD,CAAgBK,KAAK,IACjBlD,UAAW7I,EACXM,cA9Qd,WACEoJ,GAA0B,IA8QdlJ,WA3Qd,WACEoJ,GAAuB,IA2QXxJ,aApRd,WACE0J,GAAyB,IAoRbnK,YA3Md,SAAyBT,GACvBkL,EAAgBlL,GA9DhB8K,GAAoB,IAyQRvJ,MAAOA,EACPZ,WA7Ld,SAAwBX,GAEtB,IAAMG,EAAUH,EAAKI,MAAMC,MAAK,SAAAC,GAAI,OAAIA,IAAST,EAAYK,OAG7D+B,EAAIgL,eAAetB,aAAaC,QAAQ,SAAUzL,EAASH,EAAKE,KAC/DwC,MAAK,SAACwK,GAEL,IAAMC,EAAW5L,EAAMC,KAAI,SAAC4L,GAAD,OAAOA,EAAElN,MAAQF,EAAKE,IAAMgN,EAAUE,KAEjE/B,EAAS8B,MAEVpB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAmLdnL,aA1Md,SAA+Bb,GAC7BkL,EAAgBlL,GA/DhBgL,GAAsB,IA0QV7L,SAAYA,GACZ6B,iBAAoBA,QAK1B,cAAC,EAAD,CACEY,OAAQ2I,EACRvI,QAASiJ,EACT3D,aAnPV,SAA0B+F,GACxBpL,EAAIqL,aAAa3B,aAAaC,QAAQ,SAAUyB,GAC/C3K,MAAK,SAACoJ,GACLX,EAAeW,GACfb,OAEDc,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MACzBuB,QAAQtC,QA+OH,cAAC,EAAD,CACErJ,OAAQ6I,EACRzI,QAASiJ,EACT3J,WAtLV,SAA8BkM,GAC5BvL,EAAIwL,WAAW9B,aAAaC,QAAQ,SAAU4B,GAC7C9K,MAAK,SAACoJ,GACLT,EAAS,CAACS,GAAF,mBAAavK,QAEtBwK,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MACzBuB,QAAQtC,QAmLH,cAAC,EAAD,CACErJ,OAAQ+I,EACR3I,QAASiJ,EACThD,eArPV,SAA4BvE,GAC1BzB,EAAIyL,aAAa/B,aAAaC,QAAQ,SAAUlI,GAC/ChB,MAAK,SAACoJ,GACLX,EAAeW,MAEhBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MACzBuB,QAAQtC,QAkPH,cAAC,EAAD,CACErJ,OAAQiJ,EACR7K,KAAMoL,EACNpJ,QAASiJ,IAGX,cAAC,EAAD,CACErJ,OAAQmJ,EACR/I,QAASiJ,EACTxC,UAAW,kBAlNKzI,EAkNkBoL,OAjN1CnJ,EAAI0L,WAAWhC,aAAaC,QAAQ,SAAU5L,EAAKE,KAClDwC,MAAK,SAACoJ,GACL,IAAMqB,EAAW5L,EAAMqM,QAAO,SAACR,GAAO,OAAQA,EAAElN,MAAQF,EAAKE,OAC7DmL,EAAS8B,MAEVpB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MACzBuB,QAAQtC,KAPX,IAA0BjL,KAsNhBqM,IACA,cAAC,EAAD,CACEnC,aAAgBA,GAChBF,iBAAoBA,GACpBK,gBA5HZ,WACE8B,IAAoB,GACpBC,IAAgB,GAChBE,IAAiB,MA8HX,cAAC,EAAD,YC3VKuB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBrL,MAAK,YAAkD,IAA/CsL,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJzJ,SAAS0J,eAAe,SAM1BX,M","file":"static/js/main.b6da805f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mesto_logo.a307e1c4.svg\";","import { Link } from 'react-router-dom';\nimport mestoLogo from '../images/mesto_logo.svg';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <div className=\"logo header__logo\">\n        <img className=\"logo__img\" src={mestoLogo} alt=\"Проект Место\"/>\n      </div>\n      <nav className=\"header__navigation-zone\">\n        {props.loggedIn && <span className=\"header__user-email\">{props.userEmail}</span>}\n        {(props.headerLink === 'Войти') && <Link className=\"header__handler\" to=\"/signin\">Войти</Link>}\n        {(props.headerLink === 'Зарегистрироваться') && <Link className=\"header__handler\" to=\"/signup\">Зарегистрироваться</Link>}\n        {(props.headerLink === 'Выйти') &&\n          <Link className=\"header__handler\" to=\"/signin\" onClick={() => (props.logOut())}>Выйти</Link>\n        }\n\n      </nav>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from 'react';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner === currentUser._id;\n\n  const isLiked = props.card.likes.some(like => like === currentUser._id);\n\n  return (\n    <li className=\"place\">\n      <div className=\"place__img-container\">\n        <img\n          className=\"place__img\"\n          src={props.card.link}\n          alt={props.card.name}\n          onClick={() => props.onCardClick(props.card)}\n        />\n      </div>\n      <div className=\"place__description\">\n        <h2 className=\"place__title\">{props.card.name}</h2>\n        <div className=\"place__like-container\">\n          <button\n            className={`place__like-button ${isLiked && 'place__like-button_liked'}`}\n            type=\"button\"\n            onClick={() => props.onCardLike(props.card)}>\n          </button>\n          <p className=\"place__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n      <button\n        className={`place__delete-button ${!isOwn && 'place__delete-button_invisible'}`}\n        type=\"button\"\n        onClick={() => props.onCardDelete(props.card)}>\n      </button>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\nimport Card from './Card.js';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    props.chooseHeaderLink('Выйти');\n  }, []);\n\n  return (\n\n    <main className=\"main\">\n\n      <section className=\"profile\">\n        <div className=\"person\">\n          <div className=\"person__avatar-container\">\n            <div className=\"person__avatar-img-container\">\n            <img className=\"person__avatar\" src={currentUser.avatar} alt=\"Аватар\"/>\n            </div>\n            <div onClick={props.onEditAvatar} className=\"person__avatar-button\"></div>\n          </div>\n          <div className=\"person__edit\">\n            <div className=\"person__description\">\n              <h1 className=\"person__name\">{currentUser.name}</h1>\n              <p className=\"person__passion\">{currentUser.about}</p>\n            </div>\n            <button onClick={props.onEditProfile}\n              className=\"person__edit-button\" type=\"button\" aria-label=\"Редактировать\">\n            </button>\n          </div>\n        </div>\n        <button onClick={props.onAddPlace} className=\"add-button\" type=\"button\" aria-label=\"Добавить\"></button>\n      </section>\n\n      <section>\n          <ul className=\"places\">\n            {props.cards.map((card, i) =>\n            (<Card key={card._id} card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete} />))}\n          </ul>\n      </section>\n\n    </main>\n\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function ImagePopup(props) {\n  return (\n    <div className={`popup popup_place-view ${props.isOpen && 'popup_opened'}`}\n      onClick={(e) => {\n        if (e.target === e.currentTarget) {\n        props.onClose()\n      }}}>\n      <figure className=\"popup__figure\">\n        <img className=\"popup__place-image\" src={props.card.link} alt={props.card.name} />\n        <figcaption className=\"popup__place-caption\">{props.card.name}</figcaption>\n        <button className=\"popup__close popup__close_place-view\" type=\"button\" aria-label=\"Закрыть\"\n          onClick={props.onClose}>\n        </button>\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({baseUrl, token}) {\n    this._baseUrl = baseUrl;\n    // this._token = token;\n  }\n\n  getUserInfo(JWT) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: {\n        // authorization: this._token\n        authorization: `Bearer ${JWT}`\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  getInitialCards(JWT) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: {\n        //authorization: this._token\n        authorization: `Bearer ${JWT}`\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  editUserInfo(JWT, userInfoObj) {\n    return fetch(this._baseUrl + '/users/me', {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${JWT}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: userInfoObj.name,\n        about: userInfoObj.about\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  addNewCard(JWT, inputsInfoObject) {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'POST',\n      headers: {\n        authorization: `Bearer ${JWT}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: inputsInfoObject.name,\n        link: inputsInfoObject.link\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  deleteCard(JWT, cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      method: 'DELETE',\n      headers: {\n        authorization: `Bearer ${JWT}`,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  likeToggleCard(JWT, doILikedCard, imageId) {\n    if (!doILikedCard) {\n      return fetch(this._baseUrl + '/cards/'+ imageId + '/likes/', {\n        method: 'PUT',\n        headers: {\n          authorization: `Bearer ${JWT}`,\n          'Content-Type': 'application/json'\n        }\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n      })\n    } else {\n      return fetch(this._baseUrl + '/cards/'+ imageId + '/likes/', {\n        method: 'DELETE',\n        headers: {\n          authorization: `Bearer ${JWT}`,\n          'Content-Type': 'application/json'\n        }\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n      })\n    }\n  }\n\n  changeAvatar(JWT, url) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${JWT}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: url//.popupInputAvatarLink\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n}\n\nconst api = new Api({\n  baseUrl: `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3001'}`,\n  // token: `Bearer ${localStorage.getItem('token')}`\n  //  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-18',\n  //  baseUrl: 'http://api.genrih113-mesto.nomoredomains.club',\n  //  token: '7d3b332b-dc1e-49e3-90aa-8e33833ea304'\n});\n\nexport default api;\n","class FormValidator {\n  constructor({\n    formSelector,\n    inputSelector,\n    submitButtonSelector,\n    inactiveButtonClass,\n    inputErrorClass,\n    errorSelector\n    }) {\n      this._formSelector = formSelector;\n      this._inputSelector = inputSelector;\n      this._submitButtonSelector = submitButtonSelector;\n      this._inactiveButtonClass = inactiveButtonClass;\n      this._inputErrorClass = inputErrorClass;\n      this._errorSelector = errorSelector;\n  }\n\n  selectForm(formNameSelector) {\n    this._validatedFormElement = document.querySelector(formNameSelector);\n    this._submitButton = this._validatedFormElement.querySelector(this._submitButtonSelector);\n    this._inputElements = Array.from(this._validatedFormElement.querySelectorAll(this._inputSelector));\n  }\n\n  _showInputError(input) {\n    input.classList.add(this._inputErrorClass);\n    const errorElement = this._validatedFormElement.querySelector(`#${input.id}-error`);\n    errorElement.textContent = input.validationMessage;\n  }\n\n  _hideInputError(input) {\n    input.classList.remove(this._inputErrorClass);\n    const errorElement = this._validatedFormElement.querySelector(`#${input.id}-error`);\n    errorElement.textContent = '';\n  }\n\n  _isValid(input) {\n    if (!input.validity.valid) {\n      this._showInputError(input);\n    } else {\n      this._hideInputError(input);\n    }\n  }\n\n  _hasInvalidInput() {\n    return this._inputElements.some((input) => {\n      return !input.validity.valid;\n    });\n  }\n\n  _toggleButtonState() {\n    if (this._hasInvalidInput()) {\n      this._submitButton.disabled = true;\n      this._submitButton.classList.add(this._inactiveButtonClass);\n    } else {\n      this._submitButton.disabled = false;\n      this._submitButton.classList.remove(this._inactiveButtonClass);\n    }\n  }\n\n  clearPopupFromErrors() {\n    if (this._inputElements.length === 0) {return};\n    this._inputElements.forEach((input) => {\n      this._hideInputError(input)});\n    this._submitButton.disabled = true;\n    this._submitButton.classList.add(this._inactiveButtonClass);\n  }\n\n  validateForm() {\n    if (this._inputElements.length === 0) {return}\n    this._validatedFormElement.addEventListener('submit', (evt) => {\n      evt.preventDefault()\n    });\n\n    this._toggleButtonState();\n\n    this._inputElements.forEach((input) => {\n      input.addEventListener('input', () => {\n        this._isValid(input);\n        this._toggleButtonState();\n      });\n    });\n  }\n}\n\nconst formValidator = new FormValidator({\n  formSelector: '.popup__container',\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__submit',\n  inactiveButtonClass: 'popup__submit_disabled',\n  inputErrorClass: 'popup__input_state_error',\n  errorSelector: '.error'\n});\n\nexport default formValidator;\n","import React from 'react';\nimport formValidator from '../utils/formValidator.js';\n\nfunction PopupWithForm(props) {\n\n  //при открытии попапа выбирается его форма, активируется валидация,\n  //включается первичный дизейбл кнопки отправки\n  React.useEffect(() => {\n    if (props.isOpen) {\n      formValidator.selectForm(`.popup__container_${props.name}`);\n      formValidator.validateForm();\n      formValidator.clearPopupFromErrors();\n    }\n  }, [props.isOpen, props.name])\n\n  return(\n    <div className={`popup ${props.isOpen && 'popup_opened'} popup_${props.name}`}\n      onClick={(e) => {\n        if (e.target === e.currentTarget) {\n        props.onClose();\n      }}}>\n      <form onSubmit={(e) => props.onSubmit(e)}\n        className={`popup__container popup__container_${props.name}`} name={`${props.name}PopupForm`} noValidate>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <fieldset className=\"popup__content\">\n\n          {props.children}\n\n          <button className=\"popup__submit\" type=\"submit\">{props.buttonText}</button>\n        </fieldset>\n        <button\n          onClick={() => {\n            props.onClose();\n          }}\n          className={`popup__close popup__close_${props.name}`} type=\"button\" aria-label=\"Закрыть\">\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\n\nfunction EditProfilePopup(props) {\n  //стейты и хендлеры полей формы\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  // Подписка на контекст юзера\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // заносим данные контекста в поля формы\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);  //пропс isOpen для более корректной работы валидации\n\n\n  //обработчик отправки формы\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      buttonText=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}>\n\n      <input\n        onChange={handleChangeName}\n        value={name}\n        id=\"personName\" className=\"popup__input popup__name_profile\" name=\"popupInputName\"\n        type=\"text\" minLength=\"2\" maxLength=\"40\" required placeholder=\"Имя\"\n      />\n      <span id=\"personName-error\" className=\"error\"></span>\n      <input\n        onChange={handleChangeDescription}\n        value={description}\n        id=\"personPassion\" className=\"popup__input popup__passion_profile\" name=\"popupInputPassion\"\n        type=\"text\" minLength=\"2\" maxLength=\"200\" required placeholder=\"О себе\"\n      />\n      <span id=\"personPassion-error\" className=\"error\"></span>\n\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup (props) {\n  //реф-объект для картинки аватара\n  const avatarLinkRef = React.useRef();\n\n  //для обнуления поля ввода при закрытии без отправки формы, во-имя корректной работы валидации\n  if (props.isOpen) {avatarLinkRef.current.value = ''};\n\n  //обработчик отправки формы со значением поля из рефа\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar(avatarLinkRef.current.value);\n    avatarLinkRef.current.value = '';\n  }\n\n  return(\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      buttonText=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit} >\n\n      <input\n        //привязка рефа к DOM - input\n        ref={avatarLinkRef}\n        id=\"avatarLink\" className=\"popup__input popup__link_avatar\" name=\"popupInputAvatarLink\"\n        type=\"url\" required placeholder=\"Ссылка на аватар\"\n      />\n      <span id=\"avatarLink-error\" className=\"error\"></span>\n\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup(props) {\n  //стейты и хендлеры полей формы\n  const [placeName, setPlaceName] = React.useState('');\n  const [placeLink, setPlaceLink] = React.useState('');\n\n  //для обнуления поля ввода при закрытии без отправки формы, во-имя корректной работы валидации\n  React.useEffect(() => {\n    if (props.isOpen) {\n      setPlaceName('');\n      setPlaceLink('');\n    }}, [props.isOpen])\n\n  function handlePlaceName(e) {\n    setPlaceName(e.target.value);\n  }\n\n  function handlePlaceLink(e) {\n    setPlaceLink(e.target.value);\n  }\n\n  //обработчик отправки формы\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name: placeName,\n      link: placeLink\n    });\n  }\n\n\n  return(\n    <PopupWithForm\n      name=\"place\"\n      title=\"Новое место\"\n      buttonText=\"Создать\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      >\n\n      <input\n        onChange={handlePlaceName}\n        id=\"placeName\" className=\"popup__input popup__name_place\" name=\"popupInputPlace\"\n        type=\"text\" minLength=\"2\" maxLength=\"30\" required placeholder=\"Название\" value={placeName}\n      />\n      <span id=\"placeName-error\" className=\"error\"></span>\n      <input\n        onChange={handlePlaceLink}\n        id=\"placeLink\" className=\"popup__input popup__link_place\" name=\"popupInputLink\"\n        type=\"url\" required placeholder=\"Ссылка на картинку\" value={placeLink}\n      />\n      <span id=\"placeLink-error\" className=\"error\"></span>\n\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import PopupWithForm from './PopupWithForm.js';\n\nfunction ConfirmPopup(props) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onConfirm();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"confirm\"\n      title=\"Вы уверены?\"\n      buttonText=\"Да\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    />\n  )\n}\n\nexport default ConfirmPopup;\n","import { Link } from 'react-router-dom';\n\nimport './SignFormBlock.css';\n\nfunction SignFormBlock(props) {\n\n  return (\n    <div className=\"sign-form-container\">\n      <form\n        onSubmit={props.handleSubmit}\n        className=\"sign-form sign-form-container__item\" name={`${props.formName}`}>\n        <h2 className=\"sign-form__title\">{props.formTitle}</h2>\n        <input\n          onChange={props.handleChangeEmail}\n          value={props.email}\n          id=\"email\" className=\"sign-form__input\" name=\"Email\"\n          type=\"email\" minLength=\"2\" maxLength=\"40\" required placeholder=\"email\"\n        />\n        <input\n          onChange={props.handleChangePassword}\n          value={props.password}\n          id=\"password\" className=\"sign-form__input\" name=\"password\"\n          type=\"password\" minLength=\"2\" maxLength=\"40\" required placeholder=\"Пароль\"\n        />\n        <button className=\"sign-form__submit\" type=\"submit\">{`${props.buttonText}`}</button>\n        {props.isSignUp &&\n        <div className=\"sign-form__login-prompt\">\n          <span>Уже зарегистрированы? </span>\n          <Link className=\"sign-form__link\" to=\"/signin\">Войти</Link>\n        </div>\n        }\n      </form>\n    </div>\n  )\n}\n\nexport default SignFormBlock;\n","import React from 'react';\n\nimport SignFormBlock from './SignFormBlock.js';\n\nfunction Register(props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.signUp(password, email);\n  }\n\n  React.useEffect(() => {\n    props.chooseHeaderLink('Войти');\n  }, []);\n\n\n  return (\n    <SignFormBlock\n      formName = \"registrationForm\"\n      formTitle = \"Регистрация\"\n      isSignUp = {true}\n      buttonText = \"Зарегистрироваться\"\n      handleChangeEmail = {handleChangeEmail}\n      handleChangePassword = {handleChangePassword}\n      handleSubmit = {handleSubmit}\n      email = {email}\n      password = {password}\n    />\n  )\n}\n\nexport default Register;\n","import React from 'react';\n\nimport SignFormBlock from './SignFormBlock.js';\n\nfunction Login(props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.signIn(password, email)\n  }\n\n  React.useEffect(() => {\n    props.chooseHeaderLink('Зарегистрироваться');\n  }, []);\n\n  return (\n    <SignFormBlock\n      formName = \"loginForm\"\n      formTitle = \"Вход\"\n      isSignUp = {false}\n      buttonText = \"Войти\"\n      handleChangeEmail = {handleChangeEmail}\n      handleChangePassword = {handleChangePassword}\n      handleSubmit = {handleSubmit}\n      email = {email}\n      password = {password}\n    />\n  )\n}\n\nexport default Login;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\n// этот компонент принимает другой компонент в качестве пропса\n// он также может взять неограниченное число пропсов и передать их новому компоненту\n\nfunction ProtectedRoute({ component: Component, ...props  }) {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","class SignApi {\n  constructor({baseUrl}) {\n    this._baseUrl = baseUrl;\n  }\n\n\n  signup(password, email) {\n    return fetch(this._baseUrl + '/signup', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'password': password,\n        'email': email\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n\n  signin(password, email) {\n    return fetch(this._baseUrl + '/signin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'password': password,\n        'email': email\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  checkToken(JWT) {\n    return fetch(this._baseUrl + '/users/me', {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${JWT}`\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n}\n\n\nconst signApi = new SignApi({\n  baseUrl: `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3001'}`,\n  //  baseUrl: 'https://auth.nomoreparties.co',\n  //  baseUrl: 'http://api.genrih113-mesto.nomoredomains.club'\n});\n\nexport default signApi;\n","export default __webpack_public_path__ + \"static/media/sign_success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/sign_error.df8eddf6.svg\";","import { useHistory } from 'react-router-dom';\n\nimport './InfoTooltip.css';\nimport successImage from '../images/sign_success.svg';\nimport errorImage from '../images/sign_error.svg';\n\nfunction InfoTooltip(props) {\n\n  const history = useHistory();\n\n  function onClose() {\n    if (props.isSignSuccessful) {\n      history.push('/signin');\n    }\n    props.resetSignStatus();\n  }\n\n  return (\n    <div className=\"info-tooltip\">\n      <div className=\"info-tooltip__item\">\n        {\n          props.isSignSuccessful &&\n          <img className=\"info-tooltip__image\" src={successImage} alt=\"Регистрация пройдена\">\n          </img>\n        }\n        {\n          props.isSignFailed &&\n          <img className=\"info-tooltip__image\" src={errorImage} alt=\"Регистрация не пройдена\">\n          </img>\n        }\n        {\n          props.isSignSuccessful &&\n          <p className=\"info-tooltip__message\">\n            Вы успешно зарегистрировались!\n          </p>\n        }\n        {\n          props.isSignFailed &&\n          <p className=\"info-tooltip__message\">\n            Что-то пошло не так! Попробуйте ещё раз.\n          </p>\n        }\n        <button\n          onClick = {onClose}\n          className=\"popup__close\" type=\"button\"\n          aria-label=\"Закрыть\">\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;","import React, { useState } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\n\nimport './App.css';\n\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ConfirmPopup from './ConfirmPopup.js';\nimport Register from './Register.js';\nimport Login from './Login.js';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport signApi from '../utils/signApi';\nimport InfoTooltip from './InfoTooltip.js';\n\n\nfunction App() {\n  // стейты и хендлы состояний попапов\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function handlePlaceImageClick() {\n    setIsImagePopupOpen(true);\n  }\n\n  function handleOpenConfirmPopupClick() {\n    setIsConfirmPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setSelectedCard({});\n  }\n\n\n  //стейт, хендлы и эффект контекста-юзера\n  const [currentUser, setCurrentUser] = React.useState({\n    about: \"\",\n    avatar: \"\",\n    email: \"\",\n    name: \"\",\n    _id: \"\",\n  });\n\n  function resetCurrentUser() {\n    setCurrentUser({\n      about: \"\",\n      avatar: \"\",\n      email: \"\",\n      name: \"\",\n      _id: \"\",\n    });\n  };\n\n  function handleUpdateUser(obj) {\n    api.editUserInfo(localStorage.getItem('token'), obj)\n    .then((result) => {\n      setCurrentUser(result);\n      closeAllPopups();\n    })\n    .catch(err => console.log(err))\n    .finally(closeAllPopups())\n  }\n\n  function handleUpdateAvatar(url) {\n    api.changeAvatar(localStorage.getItem('token'), url)\n    .then((result) => {\n      setCurrentUser(result);\n    })\n    .catch(err => console.log(err))\n    .finally(closeAllPopups())\n  }\n\n\n\n\n  //стейт выбранной карточки и хендлы открытия попапов просмотра фотографии и подтверждения удаления\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    handlePlaceImageClick();\n  }\n\n  function handleCardDeleteClick(card) {\n    setSelectedCard(card);\n    handleOpenConfirmPopupClick();\n  }\n\n\n  //стейт, эффект и хендлы работы с массивом карточек мест\n  const [cards, setCards] = React.useState([]);\n\n\n\n  function handleCardLike(card) {\n    // Проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(like => like === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.likeToggleCard(localStorage.getItem('token'), isLiked, card._id)\n    .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      // Обновляем стейт\n      setCards(newCards);\n    })\n    .catch(err => console.log(err))\n  }\n\n  //хендл удаления карточки запускается из попапа подтверждения\n  function handleCardDelete(card) {\n    api.deleteCard(localStorage.getItem('token'), card._id)\n    .then((result) => {\n      const newCards = cards.filter((c) => {return (c._id !== card._id)});\n      setCards(newCards);\n    })\n    .catch(err => console.log(err))\n    .finally(closeAllPopups())\n  }\n\n  function handleAddPlaceSubmit(newPlaceObj) {\n    api.addNewCard(localStorage.getItem('token'), newPlaceObj)\n    .then((result) => {\n      setCards([result, ...cards]);\n    })\n    .catch(err => console.log(err))\n    .finally(closeAllPopups())\n  }\n\n\n\n  // к 14му спринту\n\n\n  const [headerLink, setHeaderLink] = useState('');\n  function chooseHeaderLink(string) {\n    setHeaderLink(string);\n  }\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  function logIn() {\n    setLoggedIn(true);\n  }\n  function logOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('token');\n    resetCurrentUser();\n  }\n\n  // const [userEmail, setUserEmail] = React.useState('');\n  // function memorizeUserEmail(email) {\n  //   setUserEmail(email);\n  // }\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    if (Boolean(localStorage.getItem('token'))) {\n      signApi.checkToken(localStorage.getItem('token'))\n      .then((result) => {\n        if (result.email) {\n          //memorizeUserEmail(result.email);\n          setCurrentUser(result);\n          logIn();\n          history.push('/');\n        }\n      })\n      .catch(err => console.log(err))\n    }\n  }, [history]);\n\n  function signIn(password, email) {\n    signApi.signin(password, email)\n    .then((res) => {\n      // localStorage.setItem('token', (res.userWithToken.token));//JSON.stringify(res.token));\n      localStorage.setItem('token', (res.token));\n      // setCurrentUser(res.userWithToken.user);\n      // memorizeUserEmail(email);\n      logIn();\n      history.push('/');\n    })\n    .catch((err) => {\n      switchIsSignFailedOnTrue();\n      switchIsTriedToSignOnTrue();\n    })\n  }\n\n\n  const [isSignSuccessful, setIsSignSuccessful] = React.useState(false);\n  const [isSignFailed, setIsSignFailed] = React.useState(false);\n  const [isTriedToSign, setIsTriedToSign] = React.useState(false);\n\n  function switchIsSignSuccessfulOnTrue() {\n    setIsSignSuccessful(true);\n  }\n\n  function switchIsSignFailedOnTrue() {\n    setIsSignFailed(true);\n  }\n\n  function switchIsTriedToSignOnTrue() {\n    setIsTriedToSign(true);\n  }\n\n  function resetSignStatus() {\n    setIsSignSuccessful(false);\n    setIsSignFailed(false);\n    setIsTriedToSign(false);\n  }\n\n  function signUp(password, email) {\n    signApi.signup(password, email)\n      .then((res) => {\n        switchIsSignSuccessfulOnTrue();\n        switchIsTriedToSignOnTrue();\n      })\n      .catch((err) => {\n        switchIsSignFailedOnTrue();\n        switchIsTriedToSignOnTrue();\n      })\n  }\n\n\n\n  React.useEffect(() => {\n    if (!loggedIn) {\n      return\n    }\n    api.getUserInfo(localStorage.getItem('token'))\n    .then((result) => {\n      setCurrentUser(result);\n    })\n    .catch(err => console.log(err))\n  }, [loggedIn]);\n\n\n  React.useEffect(() => {\n    if (!loggedIn) {\n      return\n    }\n    api.getInitialCards(localStorage.getItem('token'))\n    .then((result) => {\n      setCards(result);\n    })\n    .catch(err => console.log(err))\n  }, [loggedIn]);\n\n\n  return (\n    <CurrentUserContext.Provider value = {currentUser}>\n      <div className=\"body\">\n        <div className=\"page body__page\">\n\n          <Header\n            headerLink = {headerLink}\n            userEmail = {currentUser.email}\n            loggedIn = {loggedIn}\n            logOut = {logOut}\n          />\n\n          <Switch>\n\n            <Route path=\"/signup\" >\n              <Register\n                chooseHeaderLink = {chooseHeaderLink}\n                signUp = {signUp}\n              />\n            </Route>\n\n            <Route path=\"/signin\" >\n              <Login\n                chooseHeaderLink = {chooseHeaderLink}\n                signIn = {signIn}\n              />\n            </Route>\n\n            <ProtectedRoute path=\"/\"\n                component={Main}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                cards={cards}\n                onCardLike={handleCardLike}\n                //onCardDelete={handleCardDelete}\n                onCardDelete={handleCardDeleteClick}\n\n                loggedIn = {loggedIn}\n                chooseHeaderLink = {chooseHeaderLink}\n            />\n\n          </Switch>\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <ImagePopup\n            isOpen={isImagePopupOpen}\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n\n          <ConfirmPopup\n            isOpen={isConfirmPopupOpen}\n            onClose={closeAllPopups}\n            onConfirm={() => handleCardDelete(selectedCard)}\n          />\n\n          {\n            isTriedToSign &&\n            <InfoTooltip\n              isSignFailed = {isSignFailed}\n              isSignSuccessful = {isSignSuccessful}\n              resetSignStatus = {resetSignStatus}\n            />\n          }\n\n\n          <Footer />\n\n        </div>\n\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}